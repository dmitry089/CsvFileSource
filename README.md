# @CsvFileSource 

  Мы с вами на лекции разобрали аннотацию @CsvSource, внутри которой можно писать строки в формате CSV.

Писать значения прямо в аннотации не плохо, но если их будет штук 50, то, наверное, ничего хорошего из этого не выйдет.

Поэтому хорошо бы воспользоваться возможностями JUnit и аннотации @CsvFileSource.

Вам необходимо взять проект с калькулятором бонусов и переписать сценарии таким образом, чтобы данные читались из файла формата CSV.

Сам файл необходимо положить в каталог resources, который тоже нужно создать, следующим образом:

![149668473-da63281c-4243-4071-a6cf-89e45036b9d1](https://user-images.githubusercontent.com/119620433/216419636-f6526115-b4ba-4d3b-8f22-ac81ce6cde88.png)

Быстро это сделать можно вот так: Alt + Insert на каталоге test выбираете New File и дальше вводите имя файла вместе с именем каталога:

![149668489-54c14f68-9c83-4290-b700-5d2b5def114f](https://user-images.githubusercontent.com/119620433/216419855-f04278f9-8972-4865-833f-c52a8e435c39.png)


IDEA сама за вас создаст и каталог, и файл.

После чего в боковой панельке следует сделать reimport Maven-проекта:

![149668495-8ceb5cd7-eee0-41d5-96ac-e2b555f9d206](https://user-images.githubusercontent.com/119620433/216420019-3dc06eb5-5f71-4245-9b91-04f29ca871b9.png)


И IDEA поставит вам красивую иконочку на ресурсы для тестов:

![149668513-62555f95-f0f2-440f-927c-4feb0e337f42](https://user-images.githubusercontent.com/119620433/216420088-dc3fafe5-ab7b-4fb1-a5e6-689cf14ddbca.png)


Сам файл вы можете редактировать прямо в IDEA, это обычный текстовый файл, но подчиняющийся правилам CSV.

При этом обратите внимание, что кодировка файла UTF8:

![149668544-fd8fc7a2-dd46-4811-800e-51094f0d04d8](https://user-images.githubusercontent.com/119620433/216420236-e3a27994-b862-4177-ab1e-dd6b19cc39ee.png)
![149668575-749f377d-ec5b-4a06-a3ae-51a19dacd0bc](https://user-images.githubusercontent.com/119620433/216420446-44833d76-08de-4763-b566-a25587242627.png)


Если это не так, кликните на указанном поле и выберите UTF8:

![149668575-749f377d-ec5b-4a06-a3ae-51a19dacd0bc](https://user-images.githubusercontent.com/119620433/216420446-44833d76-08de-4763-b566-a25587242627.png)


Например, на лекции было (value требовал массив):

  @CsvSource(
  
      value={
          "'registered user, bonus under limit',100060,true,30",
          
          "'registered user, bonus over limit',100000060,true,500"
          
      }
      
  )
  
Если элемент в массиве только один, то полная запись:

  @CsvSource(
  
      value={
      
          "'registered user, bonus under limit',100060,true,30"
          
      }
      
  )
  
Сокращённая — работает только с одним элементом:

  @CsvSource(value="'registered user, bonus under limit',100060,true,30")
  
А если вы везунчик, и элемент ещё и называется value, то:

  @CsvSource("'registered user, bonus under limit',100060,true,30")
  
Использованная аннотация должна выглядеть следующим образом:

  @CsvFileSource(resources = "/data.csv")
  
### Решение
#### При отправке решения в личном кабинете прикрепите ссылку на ваш публичный репозиторий GitHub с вашим проектом.
